"use strict";const searchBtn=document.querySelector(".js-button");let seriesInput=document.querySelector(".js-input");const seriesList=document.querySelector(".js-series-container"),seriesListFav=document.querySelector(".js-fav-series-container");let series=[],favoritesSeries=[];function getServerData(){fetch(`http://api.tvmaze.com/search/shows?q=${seriesInput.value}`).then(function(e){return e.json()}).then(function(e){series=e,paintSeries(),listenSeries(),paintFavoritesSeries()}).catch(function(e){console.log("Error al traer los datos del servidor")})}function paintSeries(){let e="";for(let s=0;s<series.length;s++)console.log("fav",favoritesSeries,"actual id",s),e+=`<li class="js-serie-element serie__element--fav" id="${series[s].show.id}">`,e+=`<img src="${series[s].show.image.medium}" class="js-serie-image serie__image"/>`,e+=`<h3 class="js-serie-title serie__title--fav">${series[s].show.name}</h3>`,e+="</li>";seriesList.innerHTML=e}function toggleFavorites(e){const s=parseInt(e.currentTarget.id);for(let e=0;e<series.length;e++)s===series[e].show.id&&(favoritesSeries.push(series[e]),paintFavoritesSeries());console.log(e.currentTarget.id,favoritesSeries)}function listenSeries(){const e=document.querySelectorAll(".js-serie-element");for(const s of e)s.addEventListener("click",toggleFavorites)}function paintFavoritesSeries(){let e="";for(const s of favoritesSeries)e+=`<li class="js-serie-element serie__element--fav" id="${s.show.id}">`,e+=`<img src="${s.show.image.medium}" class="js-serie-image serie__image"/>`,e+=`<h3 class="js-serie-title serie__title--fav">${s.show.name}</h3>`,e+="</li>";seriesListFav.innerHTML=e}function handleFormSubmit(e){e.preventDefault(),getServerData(),console.log(seriesInput.value)}getServerData(),searchBtn.addEventListener("click",handleFormSubmit);