{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["\"use strict\";\n\nconst searchBtn = document.querySelector(\".js-button\");\nlet seriesInput = document.querySelector(\".js-input\");\nconst seriesList = document.querySelector(\".js-series-container\");\nconst seriesListFav = document.querySelector(\".js-fav-series-container\");\n\nlet series = [];\nlet favoritesSeries = [];\n\nfunction getServerData() {\n  fetch(`http://api.tvmaze.com/search/shows?q=${seriesInput.value}`)\n    .then(function(response) {\n      return response.json();\n    })\n    .then(function(serverData) {\n      series = serverData;\n      paintSeries();\n      listenSeries();\n      paintFavoritesSeries();\n    })\n    .catch(function(err) {\n      console.log(\"Error al traer los datos del servidor\");\n    });\n}\ngetServerData();\n\n///PINTAR SERIES\\\\\\\n\nfunction paintSeries() {\n  let htmlCode = \"\";\n  for (let i = 0; i < series.length; i++) {\n    console.log(\"fav\", favoritesSeries, \"actual id\", i);\n\n    if (true) {\n      htmlCode += `<li class=\"js-serie-element serie__element--fav\" id=\"${series[i].show.id}\">`;\n      htmlCode += `<img src=\"${series[i].show.image.medium}\" class=\"js-serie-image serie__image\"/>`;\n      htmlCode += `<h3 class=\"js-serie-title serie__title--fav\">${series[i].show.name}</h3>`;\n    } else {\n      htmlCode += `<li class=\"js-serie-element serie__element\" id=\"${series[i].show.id}\">`;\n      htmlCode += `<img src=\"${series[i].show.image.medium}\" class=\"js-serie-image serie__image\"/>`;\n      htmlCode += `<h3 class=\"js-serie-title serie__title\">${series[i].show.name}</h3>`;\n    }\n    htmlCode += `</li>`;\n\n    //   for (const serie of series) {\n    //     htmlCode += `<li class=\"js-serie-element serie__element\" id=\"${serie.show.id}\">`;\n    //     htmlCode += `<img src=\"${serie.show.image.medium}\" class=\"js-serie-image serie__image\"/>`;\n    //     htmlCode += `<h3 class=\"js-serie-title serie__title\">${serie.show.name}</h3>`;\n    //     htmlCode += `</li>`;\n    // console.log(series[i].show.name);\n    // console.log(series[i].show.image.medium);\n    // console.log(series[i].show.id);\n  }\n  seriesList.innerHTML = htmlCode;\n}\n\n///ESCUCHAR SERIES\\\\\\\n\nfunction toggleFavorites(event) {\n  const clickedId = parseInt(event.currentTarget.id);\n  for (let i = 0; i < series.length; i++) {\n    if (clickedId === series[i].show.id) {\n      favoritesSeries.push(series[i]);\n      paintFavoritesSeries();\n    }\n  }\n\n  console.log(event.currentTarget.id, favoritesSeries);\n}\n\nfunction listenSeries() {\n  const serieElements = document.querySelectorAll(\".js-serie-element\");\n  for (const serieElement of serieElements) {\n    serieElement.addEventListener(\"click\", toggleFavorites);\n\n    // console.log(serieElement);\n  }\n}\n\n///PINTAR SERIES FAVORITAS\\\\\\\n\nfunction paintFavoritesSeries() {\n  let htmlCode = \"\";\n\n  for (const favoritesSerie of favoritesSeries) {\n    htmlCode += `<li class=\"js-serie-element serie__element--fav\" id=\"${favoritesSerie.show.id}\">`;\n    htmlCode += `<img src=\"${favoritesSerie.show.image.medium}\" class=\"js-serie-image serie__image\"/>`;\n    htmlCode += `<h3 class=\"js-serie-title serie__title--fav\">${favoritesSerie.show.name}</h3>`;\n    htmlCode += `</li>`;\n  }\n\n  seriesListFav.innerHTML = htmlCode;\n}\n\n///FUNCTION MATHERFUCKER\\\\\\\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n  getServerData();\n  console.log(seriesInput.value);\n}\n\nsearchBtn.addEventListener(\"click\", handleFormSubmit);\n"]}